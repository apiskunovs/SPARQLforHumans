<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>SparqlForHumans.Blazor</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/site.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
    <app>Loading...</app>

    <script src="_framework/blazor.server.js"></script>

    <script>

        window.autoCompleteElement = {

            setSourceFunction: function (htmlElement, namespace, sourceFunctionName) {

                var sourceFunction = function(request, response) {
                    var list = DotNet.invokeMethodAsync(namespace, sourceFunctionName, request.term);
                    list.then(function(x) {
                        response(x);
                    });
                };

                $(htmlElement).autocomplete('option', 'source', sourceFunction);
            },

            setMinLength: function(htmlElement, minLength) {

                $(htmlElement).autocomplete('option', 'minLength', minLength);
            },

            setDelay: function(htmlElement, delay) {
         
                $(htmlElement).autocomplete('option', 'delay', delay);
            },

            initAutoComplete: function (htmlElement) {

                $(htmlElement).autocomplete({
                    source: ['Source function not set'],
                    minLength: 1,
                    delay: 400
                });
            }


        };
    </script>
</body>
</html>
