<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>SparqlForHumans.Blazor</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/site.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
    <app>Loading...</app>
    
<div class="ui-widget">
    <label for="tags">Tags: </label>
    <input id="tags">
</div>

<script src="_framework/blazor.server.js"></script>
    
<!--<button onclick="window.autoCompleteElement.initAutoComplete('#tags')">Load</button>-->

<script>
    window.autoCompleteElement = {

        initAutoComplete: function() {
            $('#tags').autocomplete({
                source: function(request, response) {
                    var list = autoCompleteElement.onAutocompleteChange(request.term);
                    list.then(x => response(x));
                },
                minLength: 2,
                delay: 500
            });
        },

        onAutocompleteChange: async function(query) {
            return await DotNet.invokeMethodAsync('SparqlForHumans.Blazor.App', 'RunQuery', query);
        }
    };    
</script>
</body>
</html>
